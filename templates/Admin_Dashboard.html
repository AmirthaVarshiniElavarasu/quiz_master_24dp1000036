{% extends 'index.html' %}
{% block title %} Admin Dash Board {% endblock %}

{% block navbar %}
{% include 'admin-navbar.html' %}
{% endblock %}

{% block content %}
<center>
    <div id="adminsub">
        {% for subject in Subjects %}
        <table>
            <tr>

                <td>
                    <h1>{{ subject.sub_name }}</h1>
                </td>
                <td><a href="{{ url_for('edit_subject',sub_id=subject.sub_id) }}"><i class="fa fa-edit"></a></td>
                <td><a href="{{ url_for('delete_subject',sub_id=subject.sub_id) }}"><i class="fa fa-trash"></i></a></td>
            </tr>

            <tr>
                <td>Chapters</td>
                <td>No.of Quiz</td>
                <td>action</td>
            </tr>

            {% for chapter in Chapters %}
            {% if chapter.sub_id==subject.sub_id %}
            <tr>
                <td>{{ chapter.chap_title }}</td>

                <td>{{ quiz | selectattr("chap_id", "equalto", chapter.chap_id) | list | length }}</td>

                <td><a href="{{ url_for('edit_chapter',chap_id=chapter.chap_id,sub_id=subject.sub_id) }}"><i
                            class="fa fa-edit"></i></a>
                    <a href="{{ url_for('delete_chapter',chap_id=chapter.chap_id,sub_id=subject.sub_id) }}"><i
                            class="fa fa-trash"></i></a>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
            
            <tr>
                 
                <td >
                    <a href="{{ url_for('create_chapter',sub_id=subject.sub_id) }}">
                        <input type="button" value="Add Chapter">
                    </a>
                </td>
                            
            </tr>
            <tr>
                <td ><button onclick="Description('description-{{subject.sub_id}}')">Description</button></td>
            </tr>

            <tr class="description-{{ subject.sub_id }}" style="display: none;">
                <td>Subject Description</td>
                <td >{{ subject.sub_Description }}</td>
            </tr>
            <tr class="description-{{ subject.sub_id }}" style="display: none;">
                <td>Quiz Description</td>
                <td >{{ subject.sub_quiz_descrip }}</td>
        </tr>
        </table>
        {% endfor %}

    </div>
    <div>
        <table>
            <tr>
                <td></td>
                <td><a href="{{ url_for('create_subject') }}"><input type="button" value="Add Subject"></a></td>
            </tr>
        </table>
    </div>

</center>


{% endblock %}